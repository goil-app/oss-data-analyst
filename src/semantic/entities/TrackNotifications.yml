name: TrackNotifications
type: fact_table
database: AnalyticsDB
table: AnalyticsDB.TrackNotifications
grain: one row per notification delivery tracking event
description: Notification delivery tracking data for analyzing notification reach and delivery
common_questions:
  - How many notifications were sent per day?
  - What is the delivery rate by device type?
  - Which sessions receive the most notifications?

dimensions:
  - name: _id
    sql: _id
    type: string
    description: Unique identifier for the tracking record

  - name: notificationId
    sql: notificationId
    type: string
    description: Notification identifier

  - name: businessId
    sql: businessId
    type: string
    description: Business identifier

  - name: accountId
    sql: accountId
    type: string
    description: Account that received the notification

  - name: sessionId
    sql: sessionId
    type: string
    description: Session identifier

  - name: deviceClientType
    sql: deviceClientType
    type: string
    description: Type of client device

  - name: deviceClientModel
    sql: deviceClientModel
    type: string
    description: Model of client device

  - name: deviceClientOS
    sql: deviceClientOS
    type: string
    description: Operating system of client device

time_dimensions:
  - name: date
    sql: date
    type: time
    description: Notification delivery timestamp

measures:
  - name: count
    sql: _id
    type: count_distinct
    description: Count of tracked notifications

  - name: unique_notifications
    sql: notificationId
    type: count_distinct
    description: Number of unique notifications

  - name: unique_recipients
    sql: accountId
    type: count_distinct
    description: Number of unique recipients
